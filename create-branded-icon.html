<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Branded App Icon - Bradley Health</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            margin: 0;
            padding: 2rem;
            min-height: 100vh;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            margin-bottom: 2rem;
        }
        .section {
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1rem 0;
        }
        .icon-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        .icon-item {
            text-align: center;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }
        .icon-item h3 {
            margin-top: 0;
            color: #60a5fa;
        }
        .icon-display {
            width: 120px;
            height: 120px;
            margin: 1rem auto;
            border-radius: 20px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: #3b82f6;
            position: relative;
            overflow: hidden;
        }
        .icon-display img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 20px;
        }
        .download-btn {
            background: #22c55e;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin: 0.5rem;
            transition: background 0.3s;
        }
        .download-btn:hover {
            background: #16a34a;
        }
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        .icon-size {
            text-align: center;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }
        .icon-size img {
            width: 80px;
            height: 80px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        .requirements {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid #22c55e;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
        .requirements h4 {
            margin-top: 0;
            color: #22c55e;
        }
        .requirements ul {
            margin: 0.5rem 0;
            padding-left: 1.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® Create Branded App Icon</h1>
        
        <div class="requirements">
            <h4>‚úÖ Icon Requirements:</h4>
            <ul>
                <li><strong>Background:</strong> Blue (#3b82f6)</li>
                <li><strong>Heart:</strong> Red (#ef4444) with white ECG line</li>
                <li><strong>Text:</strong> "Bradley Health" in white (ALL sizes)</li>
                <li><strong>Sizes:</strong> 72x72, 96x96, 144x144, 180x180, 192x192, 512x512</li>
                <li><strong>Style:</strong> Clean, professional, readable</li>
            </ul>
        </div>
        
        <div class="section">
            <h2>üé® Icon Preview</h2>
            <div class="icon-preview">
                <div class="icon-item">
                    <h3>Current Icon (No Text)</h3>
                    <div class="icon-display">
                        <img src="assets/apple-touch-icon.png?v=1757110176" alt="Current Icon" onerror="this.style.display='none'">
                    </div>
                    <p>Missing "Bradley Health" text</p>
                </div>
                <div class="icon-item">
                    <h3>New Branded Icon</h3>
                    <div class="icon-display" id="brandedIcon">
                        <!-- Will be generated by JavaScript -->
                    </div>
                    <p>With "Bradley Health" text</p>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>üì± Generate All Sizes</h2>
            <div class="icon-grid" id="iconGrid">
                <!-- Will be populated by JavaScript -->
            </div>
            <div style="text-align: center; margin-top: 2rem;">
                <button class="download-btn" onclick="downloadAllIcons()">üì• Download All Icons</button>
            </div>
        </div>
        
        <div class="section">
            <h2>üîß Icon Generator</h2>
            <div style="text-align: center;">
                <button class="download-btn" onclick="generateBrandedIcon()">üé® Generate New Icon</button>
                <button class="download-btn" onclick="updateManifest()">üìÑ Update Manifest</button>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 2rem;">
            <button onclick="window.location.href='/'">üè† Back to App</button>
            <button onclick="window.location.reload()">üîÑ Refresh Generator</button>
        </div>
    </div>

    <script>
        // Generate branded icon with text
        function generateBrandedIcon() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const size = 180;
            canvas.width = size;
            canvas.height = size;
            
            // Blue background
            ctx.fillStyle = '#3b82f6';
            ctx.fillRect(0, 0, size, size);
            
            // Add rounded corners
            ctx.globalCompositeOperation = 'destination-in';
            ctx.beginPath();
            ctx.roundRect(0, 0, size, size, 20);
            ctx.fill();
            ctx.globalCompositeOperation = 'source-over';
            
            // Draw heart
            const heartSize = 60;
            const heartX = size / 2;
            const heartY = size / 2 - 10;
            
            ctx.fillStyle = '#ef4444';
            ctx.beginPath();
            ctx.arc(heartX - heartSize/4, heartY - heartSize/4, heartSize/4, Math.PI, 0, false);
            ctx.arc(heartX + heartSize/4, heartY - heartSize/4, heartSize/4, Math.PI, 0, false);
            ctx.lineTo(heartX, heartY + heartSize/2);
            ctx.closePath();
            ctx.fill();
            
            // Draw ECG line
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            ctx.beginPath();
            ctx.moveTo(heartX - 15, heartY);
            ctx.lineTo(heartX - 10, heartY);
            ctx.lineTo(heartX - 8, heartY - 8);
            ctx.lineTo(heartX - 6, heartY + 8);
            ctx.lineTo(heartX - 4, heartY - 4);
            ctx.lineTo(heartX - 2, heartY + 4);
            ctx.lineTo(heartX, heartY);
            ctx.lineTo(heartX + 2, heartY - 4);
            ctx.lineTo(heartX + 4, heartY + 4);
            ctx.lineTo(heartX + 6, heartY - 8);
            ctx.lineTo(heartX + 8, heartY + 8);
            ctx.lineTo(heartX + 10, heartY);
            ctx.lineTo(heartX + 15, heartY);
            ctx.stroke();
            
            // Add text
            ctx.fillStyle = 'white';
            ctx.font = 'bold 16px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('Bradley', heartX, heartY + 35);
            ctx.fillText('Health', heartX, heartY + 55);
            
            // Display the icon
            const brandedIconDiv = document.getElementById('brandedIcon');
            brandedIconDiv.innerHTML = '';
            const img = document.createElement('img');
            img.src = canvas.toDataURL('image/png');
            img.style.width = '100%';
            img.style.height = '100%';
            img.style.objectFit = 'contain';
            img.style.borderRadius = '20px';
            brandedIconDiv.appendChild(img);
            
            // Store canvas for download
            window.brandedIconCanvas = canvas;
            
            // Generate all sizes
            generateAllSizes();
        }
        
        // Generate all required sizes
        function generateAllSizes() {
            const sizes = [192, 512, 144, 180, 72, 96];
            const iconGrid = document.getElementById('iconGrid');
            iconGrid.innerHTML = '';
            
            sizes.forEach(size => {
                const iconItem = document.createElement('div');
                iconItem.className = 'icon-size';
                
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = size;
                canvas.height = size;
                
                // Scale the original design
                const scale = size / 180;
                const heartSize = 60 * scale;
                const heartX = size / 2;
                const heartY = size / 2 - 10 * scale;
                
                // Blue background
                ctx.fillStyle = '#3b82f6';
                ctx.fillRect(0, 0, size, size);
                
                // Add rounded corners
                ctx.globalCompositeOperation = 'destination-in';
                ctx.beginPath();
                ctx.roundRect(0, 0, size, size, 20 * scale);
                ctx.fill();
                ctx.globalCompositeOperation = 'source-over';
                
                // Draw heart
                ctx.fillStyle = '#ef4444';
                ctx.beginPath();
                ctx.arc(heartX - heartSize/4, heartY - heartSize/4, heartSize/4, Math.PI, 0, false);
                ctx.arc(heartX + heartSize/4, heartY - heartSize/4, heartSize/4, Math.PI, 0, false);
                ctx.lineTo(heartX, heartY + heartSize/2);
                ctx.closePath();
                ctx.fill();
                
                // Draw ECG line
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 3 * scale;
                ctx.lineCap = 'round';
                ctx.beginPath();
                ctx.moveTo(heartX - 15 * scale, heartY);
                ctx.lineTo(heartX - 10 * scale, heartY);
                ctx.lineTo(heartX - 8 * scale, heartY - 8 * scale);
                ctx.lineTo(heartX - 6 * scale, heartY + 8 * scale);
                ctx.lineTo(heartX - 4 * scale, heartY - 4 * scale);
                ctx.lineTo(heartX - 2 * scale, heartY + 4 * scale);
                ctx.lineTo(heartX, heartY);
                ctx.lineTo(heartX + 2 * scale, heartY - 4 * scale);
                ctx.lineTo(heartX + 4 * scale, heartY + 4 * scale);
                ctx.lineTo(heartX + 6 * scale, heartY - 8 * scale);
                ctx.lineTo(heartX + 8 * scale, heartY + 8 * scale);
                ctx.lineTo(heartX + 10 * scale, heartY);
                ctx.lineTo(heartX + 15 * scale, heartY);
                ctx.stroke();
                
                // Add text (all sizes)
                ctx.fillStyle = 'white';
                const fontSize = Math.max(8, 16 * scale); // Minimum 8px font size
                ctx.font = `bold ${fontSize}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`;
                ctx.textAlign = 'center';
                ctx.fillText('Bradley', heartX, heartY + 35 * scale);
                ctx.fillText('Health', heartX, heartY + 55 * scale);
                
                const img = document.createElement('img');
                img.src = canvas.toDataURL('image/png');
                img.style.width = '80px';
                img.style.height = '80px';
                img.style.objectFit = 'contain';
                img.style.borderRadius = '12px';
                
                iconItem.innerHTML = `
                    <div>${size}x${size}</div>
                    <div>With Text</div>
                `;
                iconItem.appendChild(img);
                
                // Store canvas for download
                iconItem.dataset.canvas = canvas.toDataURL('image/png');
                iconItem.dataset.size = size;
                
                iconGrid.appendChild(iconItem);
            });
        }
        
        // Download all icons
        function downloadAllIcons() {
            const sizes = [192, 512, 144, 180, 72, 96];
            sizes.forEach((size, index) => {
                setTimeout(() => {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    canvas.width = size;
                    canvas.height = size;
                    
                    // Scale the original design
                    const scale = size / 180;
                    const heartSize = 60 * scale;
                    const heartX = size / 2;
                    const heartY = size / 2 - 10 * scale;
                    
                    // Blue background
                    ctx.fillStyle = '#3b82f6';
                    ctx.fillRect(0, 0, size, size);
                    
                    // Add rounded corners
                    ctx.globalCompositeOperation = 'destination-in';
                    ctx.beginPath();
                    ctx.roundRect(0, 0, size, size, 20 * scale);
                    ctx.fill();
                    ctx.globalCompositeOperation = 'source-over';
                    
                    // Draw heart
                    ctx.fillStyle = '#ef4444';
                    ctx.beginPath();
                    ctx.arc(heartX - heartSize/4, heartY - heartSize/4, heartSize/4, Math.PI, 0, false);
                    ctx.arc(heartX + heartSize/4, heartY - heartSize/4, heartSize/4, Math.PI, 0, false);
                    ctx.lineTo(heartX, heartY + heartSize/2);
                    ctx.closePath();
                    ctx.fill();
                    
                    // Draw ECG line
                    ctx.strokeStyle = 'white';
                    ctx.lineWidth = 3 * scale;
                    ctx.lineCap = 'round';
                    ctx.beginPath();
                    ctx.moveTo(heartX - 15 * scale, heartY);
                    ctx.lineTo(heartX - 10 * scale, heartY);
                    ctx.lineTo(heartX - 8 * scale, heartY - 8 * scale);
                    ctx.lineTo(heartX - 6 * scale, heartY + 8 * scale);
                    ctx.lineTo(heartX - 4 * scale, heartY - 4 * scale);
                    ctx.lineTo(heartX - 2 * scale, heartY + 4 * scale);
                    ctx.lineTo(heartX, heartY);
                    ctx.lineTo(heartX + 2 * scale, heartY - 4 * scale);
                    ctx.lineTo(heartX + 4 * scale, heartY + 4 * scale);
                    ctx.lineTo(heartX + 6 * scale, heartY - 8 * scale);
                    ctx.lineTo(heartX + 8 * scale, heartY + 8 * scale);
                    ctx.lineTo(heartX + 10 * scale, heartY);
                    ctx.lineTo(heartX + 15 * scale, heartY);
                    ctx.stroke();
                    
                    // Add text (all sizes)
                    ctx.fillStyle = 'white';
                    const fontSize = Math.max(8, 16 * scale); // Minimum 8px font size
                    ctx.font = `bold ${fontSize}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`;
                    ctx.textAlign = 'center';
                    ctx.fillText('Bradley', heartX, heartY + 35 * scale);
                    ctx.fillText('Health', heartX, heartY + 55 * scale);
                    
                    // Download
                    const link = document.createElement('a');
                    link.download = `icon-${size}.png`;
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                }, index * 200);
            });
            
            // Also create apple-touch-icon
            setTimeout(() => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = 180;
                canvas.height = 180;
                
                // Blue background
                ctx.fillStyle = '#3b82f6';
                ctx.fillRect(0, 0, 180, 180);
                
                // Add rounded corners
                ctx.globalCompositeOperation = 'destination-in';
                ctx.beginPath();
                ctx.roundRect(0, 0, 180, 180, 20);
                ctx.fill();
                ctx.globalCompositeOperation = 'source-over';
                
                // Draw heart
                const heartSize = 60;
                const heartX = 90;
                const heartY = 80;
                
                ctx.fillStyle = '#ef4444';
                ctx.beginPath();
                ctx.arc(heartX - heartSize/4, heartY - heartSize/4, heartSize/4, Math.PI, 0, false);
                ctx.arc(heartX + heartSize/4, heartY - heartSize/4, heartSize/4, Math.PI, 0, false);
                ctx.lineTo(heartX, heartY + heartSize/2);
                ctx.closePath();
                ctx.fill();
                
                // Draw ECG line
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 3;
                ctx.lineCap = 'round';
                ctx.beginPath();
                ctx.moveTo(heartX - 15, heartY);
                ctx.lineTo(heartX - 10, heartY);
                ctx.lineTo(heartX - 8, heartY - 8);
                ctx.lineTo(heartX - 6, heartY + 8);
                ctx.lineTo(heartX - 4, heartY - 4);
                ctx.lineTo(heartX - 2, heartY + 4);
                ctx.lineTo(heartX, heartY);
                ctx.lineTo(heartX + 2, heartY - 4);
                ctx.lineTo(heartX + 4, heartY + 4);
                ctx.lineTo(heartX + 6, heartY - 8);
                ctx.lineTo(heartX + 8, heartY + 8);
                ctx.lineTo(heartX + 10, heartY);
                ctx.lineTo(heartX + 15, heartY);
                ctx.stroke();
                
                // Add text
                ctx.fillStyle = 'white';
                ctx.font = 'bold 16px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('Bradley', heartX, heartY + 35);
                ctx.fillText('Health', heartX, heartY + 55);
                
                const link = document.createElement('a');
                link.download = 'apple-touch-icon.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            }, sizes.length * 200);
        }
        
        // Update manifest with new icons
        function updateManifest() {
            const manifest = {
                "name": "Bradley Health",
                "short_name": "Bradley Health",
                "description": "Comprehensive health monitoring app for blood pressure, medications, mood tracking, and wellness goals",
                "start_url": "./",
                "display": "standalone",
                "background_color": "#3b82f6",
                "theme_color": "#3b82f6",
                "orientation": "portrait-primary",
                "scope": "./",
                "lang": "en",
                "categories": ["health", "medical", "lifestyle"],
                "icons": [
                    {
                        "src": "assets/icon-72.png?v=1757110176",
                        "sizes": "72x72",
                        "type": "image/png",
                        "purpose": "any"
                    },
                    {
                        "src": "assets/icon-96.png?v=1757110176",
                        "sizes": "96x96",
                        "type": "image/png",
                        "purpose": "any"
                    },
                    {
                        "src": "assets/icon-144.png?v=1757110176",
                        "sizes": "144x144",
                        "type": "image/png",
                        "purpose": "any"
                    },
                    {
                        "src": "assets/icon-192.png?v=1757110176",
                        "sizes": "192x192",
                        "type": "image/png",
                        "purpose": "any maskable"
                    },
                    {
                        "src": "assets/icon-512.png?v=1757110176",
                        "sizes": "512x512",
                        "type": "image/png",
                        "purpose": "any maskable"
                    },
                    {
                        "src": "assets/apple-touch-icon.png?v=1757110176",
                        "sizes": "180x180",
                        "type": "image/png",
                        "purpose": "any"
                    },
                    {
                        "src": "assets/favicon.svg?v=1757110176",
                        "sizes": "any",
                        "type": "image/svg+xml",
                        "purpose": "any maskable"
                    }
                ],
                "apple-touch-icon": "assets/apple-touch-icon.png?v=1757110176",
                "apple-touch-icon-sizes": "180x180",
                "shortcuts": [
                    {
                        "name": "Blood Pressure",
                        "short_name": "BP",
                        "description": "Log blood pressure reading",
                        "url": "./bp-tracker.html",
                        "icons": [
                            {
                                "src": "assets/icon-96.png?v=1757110176",
                                "sizes": "96x96"
                            }
                        ]
                    },
                    {
                        "name": "Medications",
                        "short_name": "Meds",
                        "description": "Manage medications",
                        "url": "./medications.html",
                        "icons": [
                            {
                                "src": "assets/icon-96.png?v=1757110176",
                                "sizes": "96x96"
                            }
                        ]
                    },
                    {
                        "name": "Mood Tracker",
                        "short_name": "Mood",
                        "description": "Track mood and stress",
                        "url": "./mood-tracker.html",
                        "icons": [
                            {
                                "src": "assets/icon-96.png?v=1757110176",
                                "sizes": "96x96"
                            }
                        ]
                    }
                ],
                "related_applications": [],
                "prefer_related_applications": false,
                "edge_side_panel": {
                    "preferred_width": 400
                },
                "launch_handler": {
                    "client_mode": "navigate-existing"
                },
                "handle_links": "preferred",
                "protocol_handlers": [
                    {
                        "protocol": "web+health",
                        "url": "./?action=%s"
                    }
                ],
                "file_handlers": [
                    {
                        "action": "./",
                        "accept": {
                            "application/json": [".json"],
                            "text/csv": [".csv"]
                        }
                    }
                ],
                "share_target": {
                    "action": "./share",
                    "method": "POST",
                    "enctype": "multipart/form-data",
                    "params": {
                        "title": "title",
                        "text": "text",
                        "url": "url"
                    }
                },
                "permissions": [
                    "notifications",
                    "background-sync",
                    "periodic-background-sync"
                ],
                "background": {
                    "service_worker": "service-worker.js",
                    "type": "module"
                },
                "features": [
                    "Cross Platform",
                    "Offline Support",
                    "Push Notifications",
                    "Health Data Tracking",
                    "Medication Reminders",
                    "Mood Monitoring",
                    "Goal Setting",
                    "Data Export"
                ],
                "developer": {
                    "name": "Bradley Virtual Solutions, LLC",
                    "url": "https://github.com/ronb12/Bradley-Health"
                },
                "version": "1.1.1",
                "minimum_version": "1.0.0",
                "content": "./content.json"
            };
            
            const blob = new Blob([JSON.stringify(manifest, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'manifest.json';
            link.click();
            URL.revokeObjectURL(url);
        }
        
        // Generate icon on page load
        window.addEventListener('load', generateBrandedIcon);
    </script>
</body>
</html>
